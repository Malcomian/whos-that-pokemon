<%- include("./partials/navbar") %>
<div class="container">
  <div class="d-sm-none d-block mb-4">
    <div class="d-flex flex-column">
      <h1 class="mt-4 mb-4 text-center">Customize</h1>
      <a href="/logout" class="btn btn-primary poke">Logout</a>
    </div>
  </div>
  <div class="d-none d-xs-none d-sm-block">
    <div class="d-flex justify-content-between align-items-center">
      <h1 class="mt-4 mb-4">Customize</h1>
      <a href="/logout" class="btn btn-primary poke">Logout</a>
    </div>
  </div>
  <div class="card">
    <div class="card-body">
      <div class="row">
        <div class="col-md-12 col-lg-6">
          <form action="/memes/<%= meme.uuid %>/update" method="POST">
            <div class="form-group">
              <label for="name">Name:</label>
              <input type="text" class="form-control" name="name" value="<%= meme.text %>">
            </div>
            <div class="form-group">
              <div class="row">
                <div class="col">
                  <label for="text-left">X:</label>
                  <input type="number" name="text-left" class="form-control" value="<%= meme.textX %>">
                </div>
                <div class="col">
                  <label for="text-top">Y:</label>
                  <input type="number" name="text-top" class="form-control" value="<%= meme.textY %>">
                </div>
                <div class="col">
                  <label for="text-scale">Scale:</label>
                  <input type="number" name="text-scale" class="form-control" min="0" step="0.01" value="<%= meme.textScale %>">
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="url">Image URL:</label>
              <input type="text" class="form-control" name="url" value="<%= meme.url %>">
            </div>
            <!-- Extra large modal -->
            <button type="button" class="poke btn btn-primary mb-2" data-toggle="modal"
              data-target=".bd-example-modal-xl">Image URL API</button>

            <div class="modal fade bd-example-modal-xl" tabindex="-1" role="dialog"
              aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-xl">
                <div class="modal-content">
                  <div class="modal-header">
                    <h3 class="poke modal-title">Image URL API</h3>
                    <button class="btn btn-danger poke" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">X</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <h3>Sprites from <a href="https://pokeapi.co/">PokeAPI</a>:</h3>
                    <div class="form-group">
                      <label for="search-filter">Search:</label>
                      <input type="text" id="search-filter" class="form-control">
                    </div>
                    <div class="table-responsive">
                      <table id="sortable" class="table table-striped">
                        <thead class="thead-dark">
                          <tr>
                            <th>#</th>
                            <th>Image</th>
                            <th>Name</th>
                            <th>URL</th>
                          </tr>
                        </thead>
                        <tbody id="pokeAPI">
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="poke btn btn-primary" data-dismiss="modal" aria-label="Close">Close</button>
                  </div>
                </div>
              </div>
            </div>
            <div class="form-group">
              <div class="row">
                <div class="col">
                  <label for="img-left">X:</label>
                  <input type="number" name="img-left" class="form-control" value="<%= meme.imgX %>">
                </div>
                <div class="col">
                  <label for="img-top">Y:</label>
                  <input type="number" name="img-top" class="form-control" value="<%= meme.imgY %>">
                </div>
                <div class="col">
                  <label for="img-scale">Scale:</label>
                  <input type="number" name="img-scale" class="form-control" min="0" step="0.01" value="<%= meme.imgScale %>">
                </div>
              </div>
            </div>
            <div class="form-group">
              <label for="rendering">Image Rendering: </label>
              <select name="rendering" class="form-control">
                <option <% if (meme.rendering == '') {%>selected<% } %> value="">Aliased</option>
                <option <% if (meme.rendering == 'pixelated') {%>selected<% } %> value="pixelated">Pixelated</option>
              </select>
            </div>
            <button type="submit" class="poke btn btn-primary">Edit</button>
          </form>
        </div>
        <div class="col-md-12 col-lg-6">
          <div class="d-lg-none">
            <hr>
          </div>
          <h3>Preview</h3>
          <div class="mb-2 position-relative overflow-auto">
            <img class="preview-image silhouette position-absolute" src="">
            <img src="/img/WhosThatPokemon.jpg">
          </div>
          <div class="position-relative overflow-auto">
            <h4 id="preview-text" class="poke position-absolute text-center"></h4>
            <img class="preview-image position-absolute" src="">
            <img src="/img/WhosThatPokemon_reveal_logo.jpg">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="/js/preview.js"></script>
<script src="/js/filterable.js"></script>